import{S as Z,i as F,s as G,e as I,c as E,a as D,d as w,b,g as q,M as A,Z as H,ab as Q,X as R,ac as C,t as O,k as U,w as Y,h as T,m as J,x as $,L as g,y as ee,j,q as x,n as te,o as L,p as ne,B as le,a0 as X,N as ae,O as M}from"./index-57bb6886.js";import{I as re}from"./Icon-d4a9ed8c.js";import{n as se}from"./icons-a10bc4c8.js";import{s as N}from"./index-233a65d3.js";function P(s,t,e){const i=s.slice();return i[17]=t[e],i}function z(s){let t,e=[],i=new Map,r,_,c,f,h=s[1];const p=l=>l[17].value;for(let l=0;l<h.length;l+=1){let a=P(s,h,l),o=p(a);i.set(o,e[l]=W(o,a))}return{c(){t=I("ul");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=E(l,"UL",{role:!0,tabindex:!0,class:!0});var a=D(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(w),this.h()},h(){b(t,"role","listbox"),b(t,"tabindex","0"),b(t,"class","absolute z-20 mt-2 max-h-60 w-full origin-top overflow-auto rounded-xl bg-gray-700 py-2 px-2 text-white caret-primary-lighter shadow-xl outline-none ring-primary focus:ring-2")},m(l,a){q(l,t,a);for(let o=0;o<e.length;o+=1)e[o].m(t,null);s[15](t),_=!0,c||(f=A(t,"keydown",s[8]),c=!0)},p(l,a){a&546&&(h=l[1],e=H(e,a,p,1,l,h,i,t,Q,W,null,P))},i(l){_||(R(()=>{r||(r=C(t,N,{duration:150},!0)),r.run(1)}),_=!0)},o(l){r||(r=C(t,N,{duration:150},!1)),r.run(0),_=!1},d(l){l&&w(t);for(let a=0;a<e.length;a+=1)e[a].d();s[15](null),l&&r&&r.end(),c=!1,f()}}}function W(s,t){let e,i=t[17].name+"",r,_,c,f,h;function p(){return t[13](t[17])}function l(){return t[14](t[17])}return{key:s,first:null,c(){e=I("li"),r=O(i),_=U(),this.h()},l(a){e=E(a,"LI",{class:!0,role:!0});var o=D(e);r=T(o,i),_=J(o),o.forEach(w),this.h()},h(){b(e,"class",c="my-1 cursor-pointer rounded-md px-2 py-2 "+(t[5]===t[17].value?"bg-gray-300":"")),b(e,"role","option"),this.first=e},m(a,o){q(a,e,o),g(e,r),g(e,_),f||(h=[A(e,"mouseenter",p),A(e,"click",l)],f=!0)},p(a,o){t=a,o&2&&i!==(i=t[17].name+"")&&j(r,i),o&34&&c!==(c="my-1 cursor-pointer rounded-md px-2 py-2 "+(t[5]===t[17].value?"bg-gray-300":""))&&b(e,"class",c)},d(a){a&&w(e),f=!1,X(h)}}}function oe(s){var V;let t,e,i,r,_,c,f,h=((V=s[6])==null?void 0:V.name)+"",p,l,a,o,k,v,S;a=new re({props:{icon:se,class:"h-7 w-7 text-secondary transition-all hover:text-white "+(s[2]?"rotate-180":"")}});let u=s[2]&&z(s);return{c(){t=I("div"),e=I("button"),i=I("div"),r=I("p"),_=O(s[0]),c=U(),f=I("p"),p=O(h),l=U(),Y(a.$$.fragment),o=U(),u&&u.c(),this.h()},l(d){t=E(d,"DIV",{class:!0});var m=D(t);e=E(m,"BUTTON",{type:!0,"aria-haspopup":!0,class:!0});var n=D(e);i=E(n,"DIV",{});var y=D(i);r=E(y,"P",{class:!0});var K=D(r);_=T(K,s[0]),K.forEach(w),c=J(y),f=E(y,"P",{class:!0});var B=D(f);p=T(B,h),B.forEach(w),y.forEach(w),l=J(n),$(a.$$.fragment,n),n.forEach(w),o=J(m),u&&u.l(m),m.forEach(w),this.h()},h(){b(r,"class","text-left text-sm text-secondary"),b(f,"class","block text-left outline-none"),b(e,"type","button"),b(e,"aria-haspopup","listbox"),b(e,"class","flex w-full items-center justify-between rounded-xl bg-gray-700 py-2 px-4 text-white caret-primary-lighter outline-none ring-primary focus-within:ring-2"),b(t,"class","relative")},m(d,m){q(d,t,m),g(t,e),g(e,i),g(i,r),g(r,_),g(i,c),g(i,f),g(f,p),g(e,l),ee(a,e,null),s[11](e),g(t,o),u&&u.m(t,null),k=!0,v||(S=[A(window,"click",s[7]),A(e,"click",s[12])],v=!0)},p(d,[m]){var y;(!k||m&1)&&j(_,d[0]),(!k||m&64)&&h!==(h=((y=d[6])==null?void 0:y.name)+"")&&j(p,h);const n={};m&4&&(n.class="h-7 w-7 text-secondary transition-all hover:text-white "+(d[2]?"rotate-180":"")),a.$set(n),d[2]?u?(u.p(d,m),m&4&&x(u,1)):(u=z(d),u.c(),x(u,1),u.m(t,null)):u&&(te(),L(u,1,1,()=>{u=null}),ne())},i(d){k||(x(a.$$.fragment,d),x(u),k=!0)},o(d){L(a.$$.fragment,d),L(u),k=!1},d(d){d&&w(t),le(a),s[11](null),u&&u.d(),v=!1,X(S)}}}function ie(s,t,e){let i,r=!1,_,c,f=null,{value:h,label:p,items:l}=t;const a=ae(),o=n=>{n.target.closest("ul")!==c&&n.target.closest("button")!==_&&e(2,r=!1)},k=n=>{if(!!["ArrowUp","ArrowDown","KeyJ","KeyK","Space","Enter"].includes(n.code))switch(n.preventDefault(),n.code){case"ArrowDown":case"ArrowUp":case"KeyJ":case"KeyK":{const y=l.at((l.findIndex(({value:K})=>K===f)+(["ArrowDown","KeyJ"].includes(n.code)?1:-1))%l.length);e(5,f=y.value),Array.from(c.children).find(K=>K.innerText===y.name).scrollIntoView({block:"nearest"});break}case"Enter":case"Space":v(f);break}},v=n=>{e(5,f=null),e(10,h=n),e(2,r=!1),a("change",h)};function S(n){M[n?"unshift":"push"](()=>{_=n,e(4,_)})}const u=()=>e(2,r=!r),V=n=>e(5,f=n.value),d=n=>v(n.value);function m(n){M[n?"unshift":"push"](()=>{c=n,e(3,c)})}return s.$$set=n=>{"value"in n&&e(10,h=n.value),"label"in n&&e(0,p=n.label),"items"in n&&e(1,l=n.items)},s.$$.update=()=>{s.$$.dirty&1026&&e(6,i=l.find(n=>h==n.value)),s.$$.dirty&12&&r&&(c==null||c.focus())},[p,l,r,c,_,f,i,o,k,v,h,S,u,V,d,m]}class _e extends Z{constructor(t){super(),F(this,t,ie,oe,G,{value:10,label:0,items:1})}}export{_e as S};
